System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/advanced/resource-selector","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker","jimu-for-builder","jimu-layouts/layout-runtime","jimu-theme","jimu-core/react"],(function(e,t){var o={},n={},a={},i={},l={},r={},u={},s={},d={},c={};return{setters:[function(e){o.APP_FRAME_NAME_IN_BUILDER=e.APP_FRAME_NAME_IN_BUILDER,o.Immutable=e.Immutable,o.LayoutType=e.LayoutType,o.React=e.React,o.css=e.css,o.getAppStore=e.getAppStore,o.hooks=e.hooks,o.jsx=e.jsx,o.polished=e.polished,o.useIntl=e.useIntl},function(e){n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){a.Label=e.Label,a.Radio=e.Radio,a.Select=e.Select,a.Switch=e.Switch,a.defaultMessages=e.defaultMessages,a.styleUtils=e.styleUtils},function(e){i.IconPicker=e.IconPicker},function(e){l.BorderRadiusSetting=e.BorderRadiusSetting,l.InputUnit=e.InputUnit,l.NavStyleSettingByState=e.NavStyleSettingByState,l.TextAlignment=e.TextAlignment},function(e){r.ThemeColorPicker=e.ThemeColorPicker},function(e){u.getAppConfigAction=e.getAppConfigAction},function(e){s.LayoutItemSizeModes=e.LayoutItemSizeModes},function(e){d.useTheme2=e.useTheme2},function(e){c.default=e.default}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=d},4108:e=>{"use strict";e.exports=u},14321:e=>{"use strict";e.exports=a},15562:e=>{"use strict";e.exports=l},35809:e=>{"use strict";e.exports=i},41496:e=>{"use strict";e.exports=s},54337:e=>{"use strict";e.exports=r},68972:e=>{"use strict";e.exports=c},79244:e=>{"use strict";e.exports=o},79298:e=>{"use strict";e.exports=n}},t={};function p(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,p),a.exports}p.d=(e,t)=>{for(var o in t)p.o(t,o)&&!p.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},p.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.p="";var v={};return p.p=window.jimuConfig.baseUrl,(()=>{"use strict";p.r(v),p.d(v,{__set_webpack_public_path__:()=>x,default:()=>f});var e,t=p(79244),o=p(79298);!function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(e||(e={}));var n=p(14321),a=p(35809),i=p(15562),l=p(54337),r=p(4108),u=p(41496);const s=o=>{var n,a,i;let l;const s=(0,t.getAppStore)().getState();l=window.jimuConfig.isBuilder?null==s?void 0:s.appStateInBuilder:s;const d=null===(n=null==l?void 0:l.appRuntimeInfo)||void 0===n?void 0:n.selection,c=null===(a=l.appConfig.layouts)||void 0===a?void 0:a[null==d?void 0:d.layoutId],p=null===(i=null==c?void 0:c.content)||void 0===i?void 0:i[null==d?void 0:d.layoutItemId];if(c&&p&&(null==c?void 0:c.type)===t.LayoutType.FixedLayout){const n=o===e.Vertical,a=o===e.Horizontal,{width:i,height:l}=(t=>{switch(t){case e.Icon:return{width:50,height:50};case e.Vertical:return{width:300,height:300};default:return{width:300,height:50}}})(o),s=(e=>{var o;const n=document.querySelector(`iframe[name="${t.APP_FRAME_NAME_IN_BUILDER}"]`);if(n)return(null!==(o=n.contentDocument)&&void 0!==o?o:n.contentWindow.document).querySelector(e);return null})(`div.layout[data-layoutid=${d.layoutId}]`),{clientWidth:c=100,clientHeight:v=100}=s||{},g=100*i/c+"%",m=100*l/v+"%";(0,r.getAppConfigAction)().editLayoutItemProperty(d,"setting.autoProps",{width:a?u.LayoutItemSizeModes.Custom:u.LayoutItemSizeModes.Auto,height:n?u.LayoutItemSizeModes.Custom:u.LayoutItemSizeModes.Auto}).editLayoutItemProperty(d,"bbox",p.bbox.set("width",g).set("height",m)).exec()}},d={subMenuExpandMode:"Submenu expand mode",mainMenu:"Main menu",subMenu:"Submenu"};var c=p(1888),g=p(68972);function m(e){return{svg:'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="css-1i7frhi jimu-icon"><path d="M2 1a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4zm0 7a1 1 0 100 2h12a1 1 0 100-2H2zm0-1h12a2 2 0 010 4H2a2 2 0 010-4z" fill="currentColor" fill-rule="nonzero"></path></svg>',properties:{color:"var(--ref-palette-neutral-1100)",size:20,inlineSvg:!0,filename:e("menu")}}}function h(e){switch(e){case"anchor":return"left";case"textAlign":return"center";case"showIcon":return!1;case"gap":return"0px";case"submenuMode":return"foldable";default:return null}}const b=(o,n,a)=>g.default.useMemo((()=>function(o=e.Horizontal,n){switch(o){case e.Horizontal:return(0,t.Immutable)({type:"nav",menuStyle:"default",vertical:!1,advanced:!1,standard:{gap:h("gap"),textAlign:h("textAlign")}});case e.Vertical:return(0,t.Immutable)({type:"nav",menuStyle:"default",vertical:!0,advanced:!1,standard:{submenuMode:h("submenuMode"),gap:h("gap"),textAlign:h("textAlign")}});case e.Icon:return(0,t.Immutable)({type:"drawer",menuStyle:"default",vertical:!0,advanced:!1,standard:{anchor:h("anchor"),submenuMode:h("submenuMode"),icon:m(n),gap:h("gap"),textAlign:h("textAlign")}})}}(n,a).merge(o,{deep:!0})),[o,n,a]),w=t.css`
  .radio-container {
    display: flex;
    width: 100%;
    margin-top: 0.5rem;
    > span.jimu-radio {
      flex-shrink: 0;
      margin-top: 0.1rem;
    }
    > label {
      margin-bottom: 0;
    }
  }
`,f=r=>{var u,p,v,f,x;const y=t.hooks.useTranslation(d,n.defaultMessages),S=(0,c.useTheme2)(),{config:j,id:I,onSettingChange:R}=r,M=(A=j,g.default.useMemo((()=>"drawer"===A.type?e.Icon:A.vertical?e.Vertical:e.Horizontal),[A.type,A.vertical]));var A;const C=b(j,M,y),{vertical:z,type:k,menuStyle:T,variant:L,advanced:P,standard:_}=C,{anchor:H,textAlign:N,icon:B,submenuMode:E,gap:U,showIcon:O}=_||{},V=P?null==C?void 0:C.paper:void 0,$=(0,t.useIntl)(),F=t.React.useMemo((()=>{var e;if(!(null===(e=null==B?void 0:B.properties)||void 0===e?void 0:e.filename))return;const t=B.properties.filename;return $.formatMessage({id:t,defaultMessage:d[t]||n.defaultMessages[t]||t})}),[null===(u=null==B?void 0:B.properties)||void 0===u?void 0:u.filename,$]),D=(e,t)=>{R({id:I,config:Array.isArray(e)?j.setIn(e,t):j.set(e,t)})},W=(e,t)=>{var o;if(null==t){if(!(null===(o=null==L?void 0:L.root)||void 0===o?void 0:o[e]))return;const t=j.variant.root.without(e);if(Object.keys(t).length)D(["variant","root"],t);else{const e=j.variant.without("root");Object.keys(e).length?D("variant",e):R({id:I,config:j.without("variant")})}}else D(["variant","root",e],t)},q=(e,o)=>{let n=j.standard||(0,t.Immutable)({});n=o===h(e)?n.without(e):n.set(e,o),R({id:I,config:Object.keys(n).length?j.set("standard",n):j.without("standard")})},Z=t.React.useMemo((()=>{var e,o,a;if(!(null===(e=null==L?void 0:L.root)||void 0===e?void 0:e.borderRadius))return null;const i=t.polished.getValueAndUnit("none"===(null===(o=null==L?void 0:L.root)||void 0===o?void 0:o.borderRadius)?"0px":n.styleUtils.remToPixel((null===(a=null==L?void 0:L.root)||void 0===a?void 0:a.borderRadius)||"0rem"));return(0,t.Immutable)({number:[null==i?void 0:i[0]],unit:null==i?void 0:i[1]})}),[null===(p=null==L?void 0:L.root)||void 0===p?void 0:p.borderRadius]);return(0,t.jsx)("div",{css:w,className:"widget-setting-menu jimu-widget-setting"},(0,t.jsx)(o.SettingSection,null,(0,t.jsx)(o.SettingRow,{label:y("type")},(0,t.jsx)(n.Select,{"aria-label":y("type"),size:"sm",value:M,onChange:t=>{const o=t.target.value,n=function(t=e.Horizontal){switch(t){case e.Horizontal:return{type:"nav",vertical:!1};case e.Vertical:return{type:"nav",vertical:!0};case e.Icon:return{type:"drawer"}}}(o);R({id:I,config:n}),s(o)},style:{width:"50%"}},(0,t.jsx)("option",{value:e.Icon},y("icon")),(0,t.jsx)("option",{value:e.Vertical},y("vertical")),(0,t.jsx)("option",{value:e.Horizontal},y("horizontal")))),"drawer"===k&&(0,t.jsx)(o.SettingRow,{label:y("location"),flow:"no-wrap"},(0,t.jsx)(n.Select,{"aria-label":y("location"),size:"sm",style:{width:"50%"},value:H,onChange:e=>{q("anchor",e.target.value)}},(0,t.jsx)("option",{value:"left"},y("left")),(0,t.jsx)("option",{value:"right"},y("right")))),z&&(0,t.jsx)(o.SettingRow,{label:y("subMenuExpandMode"),flow:"wrap"},(0,t.jsx)(n.Select,{"aria-label":y("subMenuExpandMode"),size:"sm",value:E,onChange:e=>{q("submenuMode",e.target.value)}},(0,t.jsx)("option",{value:"foldable"},y("foldable")),(0,t.jsx)("option",{value:"static"},y("expand")))),"drawer"===k&&(0,t.jsx)(t.React.Fragment,null,(0,t.jsx)(o.SettingRow,{label:y("icon"),flow:"no-wrap",role:"group","aria-label":y("icon")},(0,t.jsx)(a.IconPicker,{hideRemove:!0,icon:B,customIcons:[m(y)],customLabel:F,previewOptions:{color:!0,size:!1},onChange:e=>{D(["standard","icon"],e)},setButtonUseColor:!1})),(0,t.jsx)(o.SettingRow,{label:y("iconSize"),flow:"no-wrap"},(0,t.jsx)(i.InputUnit,{"aria-label":y("iconSize"),className:"w-50",value:`${null!==(f=null===(v=null==B?void 0:B.properties)||void 0===v?void 0:v.size)&&void 0!==f?f:0}px`,onChange:e=>{D(["standard","icon","properties","size"],e.distance)}})))),(0,t.jsx)(o.SettingSection,{title:y("appearance"),role:"group","aria-label":y("appearance")},(0,t.jsx)(o.SettingRow,{label:y("style"),flow:"wrap",role:"radiogroup","aria-label":y("style")},[{label:y("default"),value:"default"},{label:y("underline"),value:"underline"},{label:y("pills"),value:"pills"}].map(((e,o)=>(0,t.jsx)("div",{className:"radio-container",key:o},(0,t.jsx)(n.Radio,{id:"nav-style-type"+o,style:{cursor:"pointer"},name:"style-type",onChange:t=>{((e,t)=>{if(!e.currentTarget.checked)return;let o="default"===t?j.without("menuStyle"):j.set("menuStyle",t);o=o.without("advanced").without("variant").without("paper"),R({id:I,config:o})})(t,e.value)},checked:T===e.value}),(0,t.jsx)(n.Label,{style:{cursor:"pointer"},for:"nav-style-type"+o,className:"ml-2 text-break"},e.label))))),(0,t.jsx)(o.SettingRow,{label:y("space"),flow:"no-wrap"},(0,t.jsx)(i.InputUnit,{"aria-label":y("space"),className:"w-50",min:0,value:U,onChange:e=>{q("gap",`${e.distance}${e.unit}`)}})),(0,t.jsx)(o.SettingRow,{flow:"no-wrap",label:y("alignment")},(0,t.jsx)(i.TextAlignment,{"aria-label":y("alignment"),textAlign:N,onChange:e=>{q("textAlign",e)}})),(0,t.jsx)(o.SettingRow,{flow:"no-wrap",tag:"label",label:y("showIcon")},(0,t.jsx)(n.Switch,{checked:O,onChange:(e,t)=>{q("showIcon",t)}}))),(0,t.jsx)(o.SettingSection,null,(0,t.jsx)(o.SettingRow,{flow:"no-wrap",tag:"label",label:y("advance")},(0,t.jsx)(n.Switch,{checked:P,onChange:()=>{let e;e=!(null==C?void 0:C.advanced)?j.set("advanced",!0):j.without("advanced").without("variant").without("paper"),R({id:I,config:e})}})),P&&(0,t.jsx)(t.React.Fragment,null,"drawer"!==k&&(0,t.jsx)(o.SettingRow,{label:y("background"),flow:"no-wrap"},(0,t.jsx)(l.ThemeColorPicker,{"aria-label":y("background"),specificTheme:S,value:null===(x=null==L?void 0:L.root)||void 0===x?void 0:x.bg,onChange:e=>{W("bg",e||null)}})),"drawer"!==k&&(0,t.jsx)(o.SettingRow,{label:y("borderRadius"),flow:"no-wrap"},(0,t.jsx)(i.BorderRadiusSetting,{style:{width:"30%"},separated:!1,value:Z,placeholder:"",onChange:e=>{var t,o;W("borderRadius",(null===(t=e.number)||void 0===t?void 0:t[0])?`${null===(o=e.number)||void 0===o?void 0:o[0]}${null==e?void 0:e.unit}`:null)}})),"drawer"===k&&(0,t.jsx)(o.SettingRow,{label:y("background"),flow:"no-wrap"},(0,t.jsx)(l.ThemeColorPicker,{"aria-label":y("background"),specificTheme:S,value:null==V?void 0:V.bg,onChange:e=>{D(["paper","bg"],e)}})),(0,t.jsx)(i.NavStyleSettingByState,{variant:L,onlyBorderColor:"underline"===T,text:!0,icon:!1,iconInText:O,onChange:(e,t,o)=>{var n;const a=null===(n=null==L?void 0:L.item)||void 0===n?void 0:n[e];null!=o&&""!==o?"border"===t&&a?D(["variant","item",e],a.without("borderLeft").without("borderRight").without("borderTop").without("borderBottom").set(t,o)):t.includes("border")&&"borderRadius"!==t&&a?D(["variant","item",e],a.without("border").set(t,o)):D(["variant","item",e,t],o):null!=(null==a?void 0:a[t])&&D(["variant","item",e],a.without(t))},onWholeVariantChange:e=>{e?D(["variant"],e):R({id:I,config:j.without("variant")})}}))))};function x(e){p.p=e}})(),v})())}}}));